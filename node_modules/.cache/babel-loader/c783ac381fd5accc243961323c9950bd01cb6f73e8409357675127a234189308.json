{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n}), exports[\"default\"] = void 0;\nvar _cleanArray = _interopRequireDefault(require(\"../utils/cleanArray\")),\n  _sendCursorToEnd = _interopRequireDefault(require(\"../utils/sendCursorToEnd\")),\n  _default = function _default(a, b) {\n    var c = b.history,\n      d = b.historyPosition,\n      e = b.previousHistoryPosition,\n      f = b.terminalInput,\n      g = (0, _cleanArray[\"default\"])(c).reverse(),\n      h = d,\n      i = e,\n      j = f.current;\n    if (0 < g.length) switch (a) {\n      case \"up\":\n        {\n          var k = g[0],\n            l = g[g.length - 1],\n            m = g[h + 1];\n          return null === h ? (j.value = k, (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: 0,\n            previousHistoryPosition: null\n          }) : h + 1 === g.length ? (j.value = l, (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: g.length - 1,\n            previousHistoryPosition: 1 === g.length ? null : g.length - 2\n          }) : (j.value = m, (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: h + 1,\n            previousHistoryPosition: h\n          });\n        }\n      case \"down\":\n        {\n          var n = g[0],\n            o = g[h - 1];\n          return null !== h && g[h] ? -1 == h - 1 ? (j.value = null === i || 0 === h && 1 === i ? \"\" : n, (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: null,\n            previousHistoryPosition: null\n          }) : (j.value = o, (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: h - 1,\n            previousHistoryPosition: h\n          }) : (j.value = \"\", (0, _sendCursorToEnd[\"default\"])(j), {\n            historyPosition: null,\n            previousHistoryPosition: null\n          });\n        }\n    }\n  };\nexports[\"default\"] = _default;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_cleanArray","_sendCursorToEnd","_default","a","b","c","history","d","historyPosition","e","previousHistoryPosition","f","terminalInput","g","reverse","h","i","j","current","length","k","l","m","n","o"],"sources":["/workspaces/AshTerm/node_modules/react-console-emulator/dist/handlers/scrollHistory.js"],"sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:!0}),exports[\"default\"]=void 0;var _cleanArray=_interopRequireDefault(require(\"../utils/cleanArray\")),_sendCursorToEnd=_interopRequireDefault(require(\"../utils/sendCursorToEnd\")),_default=function(a,b){var c=b.history,d=b.historyPosition,e=b.previousHistoryPosition,f=b.terminalInput,g=(0,_cleanArray[\"default\"])(c).reverse(),h=d,i=e,j=f.current;if(0<g.length)switch(a){case\"up\":{var k=g[0],l=g[g.length-1],m=g[h+1];return null===h?(j.value=k,(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:0,previousHistoryPosition:null}):h+1===g.length?(j.value=l,(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:g.length-1,previousHistoryPosition:1===g.length?null:g.length-2}):(j.value=m,(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:h+1,previousHistoryPosition:h})}case\"down\":{var n=g[0],o=g[h-1];return null!==h&&g[h]?-1==h-1?(j.value=null===i||0===h&&1===i?\"\":n,(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:null,previousHistoryPosition:null}):(j.value=o,(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:h-1,previousHistoryPosition:h}):(j.value=\"\",(0,_sendCursorToEnd[\"default\"])(j),{historyPosition:null,previousHistoryPosition:null})}}};exports[\"default\"]=_default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}